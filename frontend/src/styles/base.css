/**
 * TON3S Base Styles
 * Reset and root CSS custom properties
 */

/* Self-hosted fonts (no external requests to Google) */
@font-face { font-family: 'JetBrains Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/jetbrains-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'JetBrains Mono'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/jetbrains-mono-600.woff2') format('woff2'); }
@font-face { font-family: 'Fira Code'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/fira-code-400.woff2') format('woff2'); }
@font-face { font-family: 'Fira Code'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/fira-code-600.woff2') format('woff2'); }
@font-face { font-family: 'Source Code Pro'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/source-code-pro-400.woff2') format('woff2'); }
@font-face { font-family: 'Source Code Pro'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/source-code-pro-600.woff2') format('woff2'); }
@font-face { font-family: 'IBM Plex Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/ibm-plex-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'IBM Plex Mono'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/ibm-plex-mono-600.woff2') format('woff2'); }
@font-face { font-family: 'Roboto Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/roboto-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Roboto Mono'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/roboto-mono-600.woff2') format('woff2'); }
@font-face { font-family: 'Space Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/space-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Space Mono'; font-style: normal; font-weight: 700; font-display: swap; src: url('/fonts/space-mono-700.woff2') format('woff2'); }
@font-face { font-family: 'Ubuntu Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/ubuntu-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Ubuntu Mono'; font-style: normal; font-weight: 700; font-display: swap; src: url('/fonts/ubuntu-mono-700.woff2') format('woff2'); }
@font-face { font-family: 'Inconsolata'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/inconsolata-400.woff2') format('woff2'); }
@font-face { font-family: 'Inconsolata'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/inconsolata-600.woff2') format('woff2'); }
@font-face { font-family: 'Cousine'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/cousine-400.woff2') format('woff2'); }
@font-face { font-family: 'Cousine'; font-style: normal; font-weight: 700; font-display: swap; src: url('/fonts/cousine-700.woff2') format('woff2'); }
@font-face { font-family: 'Overpass Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/overpass-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Overpass Mono'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/overpass-mono-600.woff2') format('woff2'); }
@font-face { font-family: 'Red Hat Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/red-hat-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Red Hat Mono'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/red-hat-mono-600.woff2') format('woff2'); }
@font-face { font-family: 'PT Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/pt-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Oxygen Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/oxygen-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Noto Sans Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/noto-sans-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Noto Sans Mono'; font-style: normal; font-weight: 600; font-display: swap; src: url('/fonts/noto-sans-mono-600.woff2') format('woff2'); }
@font-face { font-family: 'Recursive'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/recursive-400.woff2') format('woff2'); }
@font-face { font-family: 'Cutive Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/cutive-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Nova Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/nova-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'Martian Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/martian-mono-400.woff2') format('woff2'); }
@font-face { font-family: 'B612 Mono'; font-style: normal; font-weight: 400; font-display: swap; src: url('/fonts/b612-mono-400.woff2') format('woff2'); }

:root {
    --bg: #fafaf8;
    --fg: #3a3632;
    --accent: #d95532;
    --fg-dim: #8a8479;
    --secondary: #f0ede8;
    --hover: #e8e3dc;
    --danger: #ef4444;
    --success: #22c55e;
    --font: 'Times New Roman', 'Times', serif;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font);
    background: var(--bg);
    color: var(--fg);
    min-height: 100vh;
    overflow-y: auto;
    position: relative;
    /* Safari-safe transitions: target specific properties instead of 'all' */
    transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 1800px;
    height: 100%;
    background: var(--bg);
    border-left: 1px solid rgba(58, 54, 50, 0.06);
    border-right: 1px solid rgba(58, 54, 50, 0.06);
    z-index: -1;
}

/* Visible focus indicators for accessibility (WCAG 2.1 AA) */
/* Remove outline for mouse/touch users but preserve for older browsers without :focus-visible */
button:focus:not(:focus-visible),
input:focus:not(:focus-visible),
select:focus:not(:focus-visible),
[tabindex]:focus:not(:focus-visible) {
    outline: none;
}

/* Consistent focus-visible styles for all interactive elements */
button:focus-visible,
input:focus-visible,
select:focus-visible,
[tabindex]:focus-visible,
.btn:focus-visible,
.btn-icon:focus-visible,
.btn-dropdown:focus-visible,
.text-style-btn:focus-visible,
.privacy-btn:focus-visible,
.new-note-btn:focus-visible,
.note-item:focus-visible,
.note-delete-btn:focus-visible,
.nostr-publish-btn:focus-visible,
.connect-nostr-btn:focus-visible,
.confirm-cancel:focus-visible,
.confirm-ok:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

/* Inset focus for items within containers */
.note-item:focus-visible {
    outline-offset: -2px;
}

/* Focus style for links */
a:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

/* Skip link for keyboard navigation */
.skip-link {
    position: absolute;
    top: -100%;
    left: 50%;
    transform: translateX(-50%);
    background: var(--accent);
    color: var(--bg);
    padding: 0.75rem 1.5rem;
    border-radius: 0 0 8px 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    z-index: 100000;
    transition: top 0.2s ease;
}

.skip-link:focus {
    top: 0;
}

/* Respect user's motion preferences for accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}
