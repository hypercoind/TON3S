/**
 * TON3S Base Styles
 * Reset and root CSS custom properties
 */

/* Google Fonts with display=swap for better performance */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Fira+Code:wght@400;600&family=Source+Code+Pro:wght@400;600&family=IBM+Plex+Mono:wght@400;600&family=Roboto+Mono:wght@400;600&family=Space+Mono:wght@400;700&family=Ubuntu+Mono:wght@400;700&family=Inconsolata:wght@400;600&family=Cousine:wght@400;700&family=Overpass+Mono:wght@400;600&family=Red+Hat+Mono:wght@400;600&family=PT+Mono:wght@400&family=Oxygen+Mono:wght@400&family=Noto+Sans+Mono:wght@400;600&family=Recursive:wght@400&family=Cutive+Mono:wght@400&family=Nova+Mono:wght@400&family=Martian+Mono:wght@400&family=B612+Mono:wght@400&display=swap');

:root {
    --bg: #fafaf8;
    --fg: #3a3632;
    --accent: #d95532;
    --fg-dim: #8a8479;
    --secondary: #f0ede8;
    --hover: #e8e3dc;
    --danger: #ef4444;
    --success: #22c55e;
    --font: 'Times New Roman', 'Times', serif;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font);
    background: var(--bg);
    color: var(--fg);
    min-height: 100vh;
    overflow-y: auto;
    position: relative;
    /* Safari-safe transitions: target specific properties instead of 'all' */
    transition: background 0.4s cubic-bezier(0.4, 0, 0.2, 1),
                color 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}

body::after {
    content: '';
    position: fixed;
    top: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 1800px;
    height: 100%;
    background: var(--bg);
    border-left: 1px solid rgba(58, 54, 50, 0.06);
    border-right: 1px solid rgba(58, 54, 50, 0.06);
    z-index: -1;
}

/* Visible focus indicators for accessibility (WCAG 2.1 AA) */
/* Remove default outline, will add custom focus-visible */
button:focus,
input:focus,
select:focus,
[tabindex]:focus {
    outline: none;
}

/* Consistent focus-visible styles for all interactive elements */
button:focus-visible,
input:focus-visible,
select:focus-visible,
[tabindex]:focus-visible,
.btn:focus-visible,
.btn-icon:focus-visible,
.btn-dropdown:focus-visible,
.text-style-btn:focus-visible,
.privacy-btn:focus-visible,
.new-note-btn:focus-visible,
.note-item:focus-visible,
.note-delete-btn:focus-visible,
.nostr-publish-btn:focus-visible,
.connect-nostr-btn:focus-visible,
.confirm-cancel:focus-visible,
.confirm-ok:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

/* Inset focus for items within containers */
.note-item:focus-visible {
    outline-offset: -2px;
}

/* Focus style for links */
a:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

/* Skip link for keyboard navigation */
.skip-link {
    position: absolute;
    top: -100%;
    left: 50%;
    transform: translateX(-50%);
    background: var(--accent);
    color: var(--bg);
    padding: 0.75rem 1.5rem;
    border-radius: 0 0 8px 8px;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    z-index: 100000;
    transition: top 0.2s ease;
}

.skip-link:focus {
    top: 0;
}

/* Respect user's motion preferences for accessibility */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }
}
